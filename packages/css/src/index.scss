
// CONFIG
$prefix: 'eer';
$ratings: (
    "a": #33a357,
    "b": #79b752,
    "c": #c3d545,
    "d": #fff12c,
    "e": #edb731,
    "f": #d66f2c,
    "g": #cc232a
);

$score-background: black;


/* ------------------------------------- */

.#{$prefix} {

    &-component {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(7, 40px);
        grid-row-gap: 10px;
        width: 100%;
        justify-items: start;
    }

    &-rating {
        position: relative;
    }
    
    @each $rating, $color in $ratings {
        &-rating-#{$rating} {
            $index: index(($ratings), ($rating $color));
            background: $color;
            grid-column-start: 1;
            grid-column-end: 2;
            grid-row-start: $index;
            grid-row-end: $index + 1;
            display: flex;
            align-items: center;
            justify-content: start;
            padding-left: 10px;
            color: white;
            font-weight: bold;
            width: 100% - 15% - ((length($ratings) - $index) * 7%);

            &::after {
                content: '';
                width: 0;
                height: 0;
                border-style: solid;
                border-width: 20px 0 20px 17px;
                border-color: transparent transparent transparent $color;
                position: absolute;
                left: 100%;
                top: 0;
                bottom: 0;    
            }

        }
    }

    &-score {
        grid-column-start: 2;
        grid-column-end: 3;
        background-color: $score-background;
        color: white;

        margin-left: 34px;
      
        padding: 0px 10px;
        position: relative;

        display: flex;
        align-items: center;
        justify-content: start;

        @each $rating, $color in $ratings {
            &-#{$rating} {
                $index: index(($ratings), ($rating $color));
                grid-row-start: $index;
                grid-row-end: $index + 1;
            }
        }

        &::before {
            content: '';
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 20px 17px 20px 0px;
            border-color: transparent $score-background transparent transparent;
            position: absolute;
            left: -17px;
            top: 0;
            bottom: 0;    
        }

    }

}